/**
 * Copyright 2009, Moxiecode Systems AB
 * Released under LGPL License.
 * License: http://tinymce.moxiecode.com/license
 * Contributing: http://tinymce.moxiecode.com/contributing
**/
!function(window){var win=!window.frameElement&&window.dialogArguments||opener||parent||top,tinymce=win.tinymce,tinyMCEPopup={editor:tinymce.activeEditor,listeners:[],onInit:{add:function(fn,scope){tinyMCEPopup.listeners.push({func:fn,scope:scope})},ready:function(){function readyHandler(){tinymce.each(tinyMCEPopup.listeners,function(o){o.func.call(o.scope,tinyMCEPopup.editor)}),document.removeEventListener("DOMContentLoaded",readyHandler),tinyMCEPopup.editor.windowManager.setTitle(window,document.title)}document.addEventListener("DOMContentLoaded",readyHandler)}},getWindowArg:function(name,defaultValue){var params=this.editor.windowManager.params,value=params[name];return tinymce.is(value)?value:defaultValue},getParam:function(name,defaultValue){return this.editor.getParam(name,defaultValue)},getLang:function(name,defaultValue){return this.editor.getLang(name,defaultValue)},execCommand:function(cmd,ui,val,a){return a=a||{},a.skip_focus=1,this.restoreSelection(),this.editor.execCommand(cmd,ui,val,a)},resizeToInnerSize:function(){},storeSelection:function(){this.editor.windowManager.bookmark=tinyMCEPopup.editor.selection.getBookmark(1)},restoreSelection:function(){tinymce.isIE&&this.editor.selection.moveToBookmark(this.editor.windowManager.bookmark)},openBrowser:function(args){tinyMCEPopup.restoreSelection(),this.editor.execCallback("file_browser_callback",args,window)},confirm:function(title,callback,scope){this.editor.windowManager.confirm(title,callback,scope,window)},alert:function(title,callback,scope){this.editor.windowManager.alert(title,callback,scope,window)},close:function(){this.editor&&(this.editor.windowManager.close(window),wfe=tinymce=tinyMCE=null)}};tinyMCEPopup.onInit.ready(),window.tinyMCEPopup=tinyMCEPopup,window.tinymce=window.tinyMCE=tinymce}(window);