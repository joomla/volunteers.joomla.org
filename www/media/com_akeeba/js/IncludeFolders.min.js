/*
 @package   akeebabackup
 @copyright Copyright (c)2006-2021 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Extradirs&&(akeeba.Extradirs={});akeeba.Extradirs.render=function(c){var l=document.getElementById("ak_list_contents");l.innerHTML="";for(rootname in c)c.hasOwnProperty(rootname)&&akeeba.Extradirs.addRow(rootname,c[rootname],l);akeeba.Extradirs.addNewRecordButton(l)};
akeeba.Extradirs.addRow=function(c,l,w){var m=document.createElement("tr");m.className="ak_filter_row";akeeba.System.data.set(m,"rootuuid",c);akeeba.System.data.set(m,"def",l);c=document.createElement("td");var x=document.createElement("td"),u=document.createElement("td"),v=document.createElement("td"),d=document.createElement("span");d.className="ak_filter_tab_icon_container akeeba-btn--red--mini delete";akeeba.System.addEventListener(d,"click",function(){var a={uuid:akeeba.System.data.get(this.parentNode.parentNode,
"rootuuid"),verb:"remove"};akeeba.Fsfilters.toggle(a,this,function(f,n){1==f.success&&(f=n.parentNode.parentNode,f.parentNode.removeChild(f))})});d.insertAdjacentHTML("beforeend",'<span class="akion-trash-a deletebutton ak-toggle-button"></span>');c.appendChild(d);d=document.createElement("span");d.className="ak_filter_tab_icon_container akeeba-btn--teal--mini";akeeba.System.addEventListener(d,"click",function(){var a=this.parentNode.parentNode;this.style.display="none";a.querySelector("span.delete").style.display=
"none";var f=this.parentNode,n=f.parentNode,g=document.createElement("span");g.className="ak_filter_tab_icon_container akeeba-btn--teal--mini save ak-toggle-button ak-stacked-button";g.insertAdjacentHTML("beforeend",'<span class="akion-checkmark"></span>');akeeba.System.addEventListener(g,"click",function(){var b=a.querySelector("input.folder_editor").value;b=trim(b);var h=a.querySelector("input.virtual_editor").value;h=trim(h);empty(h)&&(h=Math.uuid(8)+"-"+basename(b));var q=akeeba.System.data.get(a,
"def",",");q=q.split(",",2);if(""==b)if(""==q[0])akeeba.System.triggerEvent(this.parentNode.querySelector("span.cancel"),"click");else{var r=a.querySelector("span.delete");r.style.display="inline-block";akeeba.System.triggerEvent(r,"click")}else r={uuid:akeeba.System.data.get(a,"rootuuid"),root:b,data:h,verb:"set"},akeeba.Fsfilters.toggle(r,this,function(e,p){1==e.success&&(""==q[0]&&(e=p.parentNode.querySelector("span.editbutton"),akeeba.System.removeClass(e,"akion-plus"),akeeba.System.addClass(e,
"akion-edit ak-toggle-button"),akeeba.Extradirs.addNewRecordButton(w)),akeeba.System.data.set(a,"def",[b,h]),console.debug(a),a.querySelector("span.ak_directory").textContent=b,a.querySelector("span.ak_virtual").textContent=h,p.parentNode.querySelector("span.ak_filter_tab_icon_container").style.display="inline-block",e=p.parentNode.querySelector("span.cancel"),e.parentNode.removeChild(e),a.querySelector("span.delete").style.display="inline-block",p.parentNode.removeChild(p),e=a.querySelector("input.folder_editor"),
e.parentNode.removeChild(e),e=a.querySelector("input.virtual_editor"),e.parentNode.removeChild(e),e=a.querySelector("span.browse"),e.parentNode.removeChild(e),a.querySelector("span.ak_directory").style.display="inline-block",a.querySelector("span.ak_virtual").style.display="inline-block")},!1)});f.appendChild(g);g=document.createElement("span");g.className="ak_filter_tab_icon_container akeeba-btn--orange--mini cancel ak-toggle-button";g.insertAdjacentHTML("beforeend",'<span class="akion-close "></span>');
akeeba.System.addEventListener(g,"click",function(){this.parentNode.querySelector("span.ak_filter_tab_icon_container").style.display="inline-block";var b=this.parentNode.querySelector("span.save");b.parentNode.removeChild(b);this.parentNode.removeChild(this);b=a.querySelector("input.folder_editor");b.parentNode.removeChild(b);b=a.querySelector("input.virtual_editor");b.parentNode.removeChild(b);b=a.querySelector("span.browse");b.parentNode.removeChild(b);a.querySelector("span.ak_directory").style.display=
"inline-block";a.querySelector("span.ak_virtual").style.display="inline-block";b=akeeba.System.data.get(a,"def",",");b=b.split(",",2);""!=b[0]&&(a.querySelector("span.delete").style.display="inline-block")});f.appendChild(g);f=akeeba.System.data.get(a,"def",",");f=f.split(",",2);n=n.querySelector("td.ak_filter_item");g=n.nextElementSibling;var k=document.createElement("input");k.setAttribute("type","text");k.setAttribute("size","60");k.className="folder_editor";k.value=f[0];var t=document.createElement("span");
t.className="ak_filter_tab_icon_container akeeba-btn--dark--mini browse ak-toggle-button";t.insertAdjacentHTML("beforeend",'<span class="akion-folder"></span>');akeeba.System.addEventListener(t,"click",function(){var b=this.parentNode.querySelector("input.folder_editor"),h=trim(b.value);""==h&&(h="[ROOTPARENT]");akeeba.Configuration.onBrowser(h,b)});n.appendChild(k);n.appendChild(t);k=document.createElement("input");k.setAttribute("type","text");k.setAttribute("size","60");k.className="virtual_editor";
k.value=f[1];g.appendChild(k);n.querySelector("span.ak_directory").style.display="none";g.querySelector("span.ak_virtual").style.display="none"});d.insertAdjacentHTML("beforeend",'<span class="akion-edit editbutton ak-toggle-button"></span>');x.appendChild(d);u.className="ak_filter_item";d=document.createElement("span");d.className="ak_filter_name ak_directory";d.textContent=l[0];u.appendChild(d);v.className="ak_filter_item";d=document.createElement("span");d.className="ak_filter_name ak_virtual";
d.textContent=l[1];v.appendChild(d);m.appendChild(c);m.appendChild(x);m.appendChild(u);m.appendChild(v);w.appendChild(m)};akeeba.Extradirs.addNewRecordButton=function(c){var l=Math.uuid();akeeba.Extradirs.addRow(l,["",""],c);c=document.getElementById("ak_list_contents").children;c=c[c.length-1].querySelectorAll("td");c[0].querySelector("span").style.display="none";c=c[1].querySelectorAll("span");c=c[c.length-1];akeeba.System.removeClass(c,"akion-edit");akeeba.System.addClass(c,"akion-plus ak-toggle-button")};
akeeba.Loader.add(["akeeba.UserInterfaceCommon","akeeba.System","akeeba.Configuration"],function(){var c=akeeba.System.getOptions("akeeba.IncludeFolders.guiData",null);null!==c&&(akeeba.Configuration.enablePopoverFor(document.querySelectorAll('[rel="popover"]')),akeeba.Extradirs.render(c))}); //# sourceMappingURL=IncludeFolders.min.map
