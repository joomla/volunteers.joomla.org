!(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})((function(a){function b(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)}function c(a){b(a);var c=a.state.placeholder=document.createElement("pre");c.style.cssText="height: 0; overflow: visible",c.style.direction=a.getOption("direction"),c.className="CodeMirror-placeholder CodeMirror-line-like";var d=a.getOption("placeholder");"string"==typeof d&&(d=document.createTextNode(d)),c.appendChild(d),a.display.lineSpace.insertBefore(c,a.display.lineSpace.firstChild)}function d(a){setTimeout((function(){var d=!1;if(1==a.lineCount()){var e=a.getInputField();d="TEXTAREA"==e.nodeName?!a.getLine(0).length:!/[^\u200b]/.test(e.querySelector(".CodeMirror-line").textContent)}d?c(a):b(a)}),20)}function e(a){g(a)&&c(a)}function f(a){var d=a.getWrapperElement(),e=g(a);d.className=d.className.replace(" CodeMirror-empty","")+(e?" CodeMirror-empty":""),e?c(a):b(a)}function g(a){return 1===a.lineCount()&&""===a.getLine(0)}a.defineOption("placeholder","",(function(c,g,h){var i=h&&h!=a.Init;if(g&&!i)c.on("blur",e),c.on("change",f),c.on("swapDoc",f),a.on(c.getInputField(),"compositionupdate",c.state.placeholderCompose=function(){d(c)}),f(c);else if(!g&&i){c.off("blur",e),c.off("change",f),c.off("swapDoc",f),a.off(c.getInputField(),"compositionupdate",c.state.placeholderCompose),b(c);var j=c.getWrapperElement();j.className=j.className.replace(" CodeMirror-empty","")}g&&!c.hasFocus()&&e(c)}))}));